<html>
<head>
<title>Actor Prolog. Example &quot;D:\MOROZOV\Z\Z-DJ\DEMO\EXE\EXAMPLES\DEMO PROGRAMS\JAVA3D\TEST_CANVAS3D_08_JAVA (CORTEXCLIP).A&quot;</title>
</head>
<body bgcolor="#F0F0F0">
<table align="center" bgcolor="#FFFFFF" cellpadding=30>
<tr>
<td>
<pre>
<font color="0000FF"><i>-----------------------------------------------------------------------</i></font>
<font color="0000FF"><i>-- An example of Actor Prolog program.                               --</i></font>
<font color="0000FF"><i>-- (c) 2012 IRE RAS Alexei A. Morozov                                --</i></font>
<font color="0000FF"><i>-----------------------------------------------------------------------</i></font>
<font color="7F7F00"><u>import</u></font> .. <font color="7F7F00"><u>from</u></font> <font color="0000FF">&quot;morozov/Java3D&quot;</font>;
<font color="0000FF"><i>-----------------------------------------------------------------------</i></font>
<font color="7F7F00"><u>interface</u></font> 'Main' <font color="#993300">(</font><font color="7F7F00"><u>specialized</u></font> 'Canvas3D'<font color="#993300">)</font>:
<font color="0000FF"><i>--</i></font>
<font color="7F7F00"><u>internal</u></font>:
<font color="0000FF"><i>--</i></font>
set     : 'FindAllNodes';
<font color="0000FF"><i>--</i></font>
data    : 'MyDatabase';
<font color="0000FF"><i>--</i></font>
<font color="#800080">[</font>
<font color="#800080">]</font>
<font color="0000FF"><i>-----------------------------------------------------------------------</i></font>
<font color="7F7F00"><u>class</u></font> 'Main' <font color="#993300">(</font><font color="7F7F00"><u>specialized</u></font> 'Canvas3D'<font color="#993300">)</font>:
<font color="0000FF"><i>--</i></font>
<font color="7F7F00"><u>internal</u></font>:
<font color="0000FF"><i>--</i></font>
set     = <font color="#993300">(</font>'FindAll',
                world=data<font color="#993300">)</font>;
<font color="0000FF"><i>--</i></font>
data    = <font color="#993300">(</font>'MyDatabase'<font color="#993300">)</font>;
<font color="0000FF"><i>--</i></font>
<font color="#800080">[</font>
goal:-!,
        data <font color="#993300">?</font> load<font color="#993300">(</font><font color="0000FF">&quot;jar:data/cortex1.db&quot;</font><font color="#993300">)</font>,
        data <font color="#993300">?</font> load<font color="#993300">(</font><font color="0000FF">&quot;jar:data/cortex2.db&quot;</font><font color="#993300">)</font>,
        <font color="#008000">NodeList</font>== set <font color="#993300">?</font> get_node,
        <font color="#008000">Bounds</font>== 'BoundingSphere'<font color="#993300">(</font><font color="FF00FF">{</font>
                center: p<font color="#993300">(</font><font color="FF00FF">0.0</font>,<font color="FF00FF">0.0</font>,<font color="FF00FF">0.0</font><font color="#993300">)</font>,
                radius: <font color="FF00FF">100.0</font>
                <font color="FF00FF">}</font><font color="#993300">)</font>,
        show<font color="#993300">(</font><font color="#800080">[</font>
                'TransformGroup'<font color="#993300">(</font><font color="FF00FF">{</font>
                        allowTransformWrite: 'yes',
                        allowTransformRead: 'yes',
                        transform3D: 'Transform3D'<font color="#993300">(</font><font color="FF00FF">{</font>
                                translation: <font color="#800080">[</font><font color="0000FF">0</font>,<font color="0000FF">0</font>,-<font color="0000FF">1</font><font color="#800080">]</font>
                                <font color="FF00FF">}</font><font color="#993300">)</font>,
                        branches: <font color="#800080">[</font>
                                'TransformGroup'<font color="#993300">(</font><font color="FF00FF">{</font>
                                        transform3D: 'Transform3D'<font color="#993300">(</font><font color="FF00FF">{</font>
                                                scale: <font color="0000FF">7</font>,
                                                rotX: -<font color="#993300">(</font><font color="#993300">?</font>pi<font color="#993300">()</font>/<font color="0000FF">2</font><font color="#993300">)</font>,
                                                rotZ: <font color="#993300">?</font>pi<font color="#993300">()</font>*<font color="0000FF">3</font>/<font color="0000FF">4</font>
                                                <font color="FF00FF">}</font><font color="#993300">)</font>,
                                        branches: <font color="#008000">NodeList</font>
                                        <font color="FF00FF">}</font><font color="#993300">)</font>,
                                'MouseRotate'<font color="#993300">(</font><font color="FF00FF">{</font>
                                        schedulingBounds: <font color="#008000">Bounds</font>
                                        <font color="FF00FF">}</font><font color="#993300">)</font>,
                                'MouseZoom'<font color="#993300">(</font><font color="FF00FF">{</font>
                                        schedulingBounds: <font color="#008000">Bounds</font>
                                        <font color="FF00FF">}</font><font color="#993300">)</font>,
                                'MouseWheelZoom'<font color="#993300">(</font><font color="FF00FF">{</font>
                                        schedulingBounds: <font color="#008000">Bounds</font>
                                        <font color="FF00FF">}</font><font color="#993300">)</font>
                                <font color="#800080">]</font>
                        <font color="FF00FF">}</font><font color="#993300">)</font>,
                'ModelClip'<font color="#993300">(</font><font color="FF00FF">{</font>
                        <font color="0000FF">1</font>: <font color="#800080">[</font><font color="FF00FF">0.0</font>,<font color="FF00FF">0.0</font>,<font color="FF00FF">1.0</font>,<font color="FF00FF">0.0</font><font color="#800080">]</font>,
                        influencingBounds: <font color="#008000">Bounds</font>
                        <font color="FF00FF">}</font><font color="#993300">)</font>
                <font color="#800080">]</font><font color="#993300">)</font>.
<font color="#800080">]</font>
<font color="0000FF"><i>-----------------------------------------------------------------------</i></font>
<font color="7F7F00"><u>interface</u></font> 'FindAllNodes' <font color="#993300">(</font><font color="7F7F00"><u>specialized</u></font> 'FindAll'<font color="#993300">)</font>:
<font color="#800080">[</font>
<font color="7F7F00"><u>PREDICATES</u></font>:
<font color="0000FF"><i>--</i></font>
<font color="7F7F00"><u>imperative</u></font>:
<font color="0000FF"><i>--</i></font>
get_node = <font color="#008000">NodeList</font>;
<font color="#800080">]</font>
<font color="0000FF"><i>-----------------------------------------------------------------------</i></font>
<font color="7F7F00"><u>class</u></font> 'MyDatabase' <font color="#993300">(</font><font color="7F7F00"><u>specialized</u></font> 'Database'<font color="#993300">)</font>:
<font color="#800080">[</font>
<font color="7F7F00"><u>DOMAINS</u></font>:
<font color="0000FF"><i>--</i></font>
<font color="#008000">Target</font>  = v<font color="#993300">(</font><font color="#008000">Numerical</font>,<font color="#008000">Numerical</font>,<font color="#008000">Numerical</font>,<font color="#008000">Color3D</font><font color="#993300">)</font>.
<font color="0000FF"><i>--</i></font>
<font color="7F7F00"><u>PREDICATES</u></font>:
<font color="0000FF"><i>--</i></font>
<font color="7F7F00"><u>nondeterm</u></font>:
<font color="0000FF"><i>--</i></font>
get_node = <font color="#008000">TransformGroup</font>;
<font color="0000FF"><i>--</i></font>
<font color="7F7F00"><u>CLAUSES</u></font>:
<font color="0000FF"><i>--</i></font>
get_node = 'TransformGroup'<font color="#993300">(</font><font color="FF00FF">{</font>
                transform3D: 'Transform3D'<font color="#993300">(</font><font color="FF00FF">{</font>
                        translation: <font color="#800080">[</font><font color="#008000">X</font>,<font color="#008000">Y</font>,<font color="#008000">Z</font><font color="#800080">]</font>
                        <font color="FF00FF">}</font><font color="#993300">)</font>,
                branches: <font color="#800080">[</font>
                        'Sphere'<font color="#993300">(</font><font color="FF00FF">{</font>
                                radius: <font color="FF00FF">0.002</font>,
                                appearance: 'Appearance'<font color="#993300">(</font><font color="FF00FF">{</font>
                                        material: 'Material'<font color="#993300">(</font><font color="FF00FF">{</font>
                                                emissiveColor: <font color="#008000">C</font>
                                                <font color="FF00FF">}</font><font color="#993300">)</font>
                                        <font color="FF00FF">}</font><font color="#993300">)</font>
                                <font color="FF00FF">}</font><font color="#993300">)</font>
                        <font color="#800080">]</font>
                <font color="FF00FF">}</font><font color="#993300">)</font>
        :-
        <font color="#008000">Item</font>== <font color="#993300">?</font>match<font color="#993300">(</font><font color="#008000">_</font><font color="#993300">)</font>,
        <font color="#008000">Item</font> == v<font color="#993300">(</font><font color="#008000">X</font>,<font color="#008000">Y</font>,<font color="#008000">Z</font>,<font color="#008000">C</font><font color="#993300">)</font>.
<font color="#800080">]</font>
<font color="0000FF"><i>-----------------------------------------------------------------------</i></font>
</pre>
</td>
</tr>
</table>
</body>
</html>
