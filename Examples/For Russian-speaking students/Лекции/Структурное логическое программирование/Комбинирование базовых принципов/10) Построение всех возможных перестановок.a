-------------------------------------------
--                                       --
-- Элементы структурного логического     --
-- программирования.                     --
--                                       --
-- Построение всех возможных             --
-- перестановок списка.                  --
--                                       --
-- Использованы "кирпичики":             --
-- 1) выходная сборка списка;            --
-- 2) удалить из списка один             --
--    произвольный элемент;              --
-- 3) откат.                             --
--                                       --
-------------------------------------------

DOMAINS:

List	= INTEGER*.

PREDICATES:

nondeterm:

перестановка_списка(List,List)		- (i,o);
удалить_один_элемент(List,INTEGER,List)	- (i,o,o);

CLAUSES:

goal:-
	L1== [1,2,3],
	writeln("L1=",L1),nl,
	перестановка_списка(L1,L2),
	writeln("L2=",L2),
	fail.

перестановка_списка(Список1,[Голова|Хвост]):-
	удалить_один_элемент(Список1,Голова,Список2),
	перестановка_списка(Список2,Хвост).
перестановка_списка([],[]).

удалить_один_элемент([Голова|Хвост],Голова,Хвост).
удалить_один_элемент([Голова|Хвост1],H,[Голова|Хвост2]):-
	удалить_один_элемент(Хвост1,H,Хвост2).
