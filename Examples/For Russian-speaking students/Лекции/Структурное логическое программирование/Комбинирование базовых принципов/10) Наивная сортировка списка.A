-------------------------------------------
--                                       --
-- Элементы структурного логического     --
-- программирования.                     --
--                                       --
-- Наивная сортировка списка.            --
--                                       --
-- Использованы "кирпичики":             --
-- 1) разборка списка;                   --
-- 2) поиск максимального элемента       --
--    списка;                            --
-- 3) удаление из списка всех вхождений  --
--    заданного элемента;                --
-- 4) выходная сборка списка.            --
--                                       --
-------------------------------------------

DOMAINS:

List	= INTEGER*.

PREDICATES:

nondeterm:

p(List,List)			- (i,o);
--
maximum(List,INTEGER)		- (i,o);
m(List,INTEGER,INTEGER)		- (i,i,o);
--
delete(INTEGER,List,List)	- (i,i,o);

CLAUSES:

goal:-
	L1== [1,5,1,3,2,4,5,2],
	writeln("L1=",L1),
	p(L1,L2),
	writeln("L2=",L2).

p([],[]).
p(L1,[Max|Rest]):-
	maximum(L1,Max),
	delete(Max,L1,L2),
	p(L2,Rest).

maximum([Голова|Хвост],Результат):-
	m(Хвост,Голова,Результат).
maximum([],_):-
	warning("Список пустой!"),
	break.

m([X|Хвост],M,Результат):-
	X > M,
	m(Хвост,X,Результат).
m([X|Хвост],M,Результат):-
	X <= M,
	m(Хвост,M,Результат).
m([],Y,Y).

delete(H,[H|Хвост1],Хвост2):-
	delete(H,Хвост1,Хвост2).
delete(H,[Голова|Хвост1],[Голова|Хвост2]):-
	H <> Голова,
	delete(H,Хвост1,Хвост2).
delete(_,[],[]).
