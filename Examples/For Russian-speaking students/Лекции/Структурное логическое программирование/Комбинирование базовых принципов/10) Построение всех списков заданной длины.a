-------------------------------------------
--                                       --
-- Элементы структурного логического     --
-- программирования.                     --
--                                       --
-- Построение всех возможных             --
-- списков длины К из элементов          --
-- списка длины N.                       --
--                                       --
-- Использованы "кирпичики":             --
-- 1) выходная сборка списка;            --
-- 2) увеличение индекса;                --
-- 3) получить произвольный элемент      --
--    списка;                            --
-- 4) откат.                             --
--                                       --
-------------------------------------------

DOMAINS:

List	= INTEGER*.

PREDICATES:

nondeterm:

построение_списка(INTEGER,INTEGER,List,List)	- (i,i,i,o);
элемент(INTEGER,List)				- (o,i);

CLAUSES:

goal:-
	L1==[2,24,3,5,7],
	K== 3,
	writeln("L1=",L1),
	writeln("K=",K),
	построение_списка(0,K,L1,L2),
	writeln("L2=",L2),
	fail.

построение_списка(N,N,_,[]):-!.
построение_списка(I,K,L1,[Голова|Хвост]):-
	элемент(Голова,L1),
	построение_списка(I+1,K,L1,Хвост).

элемент(H,[H|_]).
элемент(H,[_|Rest]):-
	элемент(H,Rest).
