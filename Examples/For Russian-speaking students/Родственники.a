---------------------------------------------------------------
--          ѕример определени€ родственных св€зей.           --
--          ѕрограмма написана на јкторном ѕрологе.          --
--          (c) »–Ё –јЌ, јлексей ј. ћорозов.                 --
--          ѕо материалам портала "–”—— ќ≈ —Ћќ¬ќ".           --
--          (www.gramma.ru/RUS/?id=13.22)                    --
---------------------------------------------------------------

CLAUSES:

отец("јлександр","јлексей").
отец("јльберт","»рина").
отец("ћихаил","јлександр").
отец("ћихаил","јльберт").
отец("Ѕорис","Ћюдмила").
отец("“ихон","јнатолий").
отец("“ихон","«о€").
отец("“ихон","јнтонина").

мать("»рина"," ристина").
мать("»рина","ёл€").
мать("Ћюдмила","јлексей").
мать("«о€","Ћюдмила").
мать("Ќина","јлександр").
мать("Ќина","јльберт").
мать("јнастаси€","јнатолий").
мать("јнастаси€","«о€").
мать("јнастаси€","јнтонина").
мать("ћарус€","√алина").
мать("“ать€на","ћарус€").
мать("“ать€на","јнастаси€").

крЄстный_отец("јнатолий","Ћюдмила").

крЄстна€_мать("“амара","√алина").

муж_и_жена("јлександр","Ћюдмила").
муж_и_жена("ћихаил","Ќина").
муж_и_жена("Ѕорис","«о€").
муж_и_жена("¬ладимир","јнтонина").
муж_и_жена("“ихон","јнастаси€").

мужского_пола("јлексей").
мужского_пола("јлександр").
мужского_пола("јльберт").
мужского_пола("јнатолий").
мужского_пола("Ѕорис").
мужского_пола("¬ладимир").
мужского_пола("ћихаил").
мужского_пола("“ихон").

женского_пола("јнастаси€").
женского_пола("јнтонина").
женского_пола("√алина").
женского_пола("«о€").
женского_пола("»рина").
женского_пола(" ристина").
женского_пола("Ћюдмила").
женского_пола("ћарус€").
женского_пола("Ќина").
женского_пола("“амара").
женского_пола("“ать€на").
женского_пола("ёл€").

сын(X,Y):-
	отец(Y,X),
	мужского_пола(X).
сын(X,Y):-
	мать(Y,X),
	мужского_пола(X).

дочь(X,Y):-
	отец(Y,X),
	женского_пола(X).
дочь(X,Y):-
	мать(Y,X),
	женского_пола(X).

дедушка(X,Y):-
	отец(»м€ќтца,Y),
	отец(X,»м€ќтца).
дедушка(X,Y):-
	мать(»м€ћатери,Y),
	отец(X,»м€ћатери).

бабушка(X,Y):-
	отец(»м€ќтца,Y),
	мать(X,»м€ќтца).
бабушка(X,Y):-
	мать(»м€ћатери,Y),
	мать(X,»м€ћатери).

внук(X,Y):-
	дедушка(Y,X),
	мужского_пола(X).
внук(X,Y):-
	бабушка(Y,X),
	мужского_пола(X).

внучка(X,Y):-
	дедушка(Y,X),
	женского_пола(X).
внучка(X,Y):-
	бабушка(Y,X),
	женского_пола(X).

брат(X,Y):-
	отец(»м€ќтца,X),
	отец(»м€ќтца,Y),
	мужского_пола(X),
	X <> Y.
брат(X,Y):-
	мать(»м€ћатери,X),
	мать(»м€ћатери,Y),
	мужского_пола(X),
	X <> Y.

сестра(X,Y):-
	отец(»м€ќтца,X),
	отец(»м€ќтца,Y),
	женского_пола(X),
	X <> Y.
сестра(X,Y):-
	мать(»м€ћатери,X),
	мать(»м€ћатери,Y),
	женского_пола(X),
	X <> Y.

-- ƒ€д€ и тЄт€ - брат и сестра матери или отца.

д€д€(X,Y):-
	отец(»м€ќтца,Y),
	брат(X,»м€ќтца).
д€д€(X,Y):-
	мать(»м€ћатери,Y),
	брат(X,»м€ћатери).

тЄт€(X,Y):-
	отец(»м€ќтца,Y),
	сестра(X,»м€ќтца).
тЄт€(X,Y):-
	мать(»м€ћатери,Y),
	сестра(X,»м€ћатери).

-- ѕлем€нник и плем€нница - сын и дочь брата или сестры.

плем€нник(X,Y):-
	брат(»м€Ѕрата,Y),
	сын(X,»м€Ѕрата).
плем€нник(X,Y):-
	сестра(»м€—естры,Y),
	сын(X,»м€—естры).

плем€нница(X,Y):-
	брат(»м€Ѕрата,Y),
	дочь(X,»м€Ѕрата).
плем€нница(X,Y):-
	сестра(»м€—естры,Y),
	дочь(X,»м€—естры).

-- ¬нучатными (или внучатыми) плем€нниками
-- называют внуков брата или сестры.

внучатный_плем€нник(X,Y):-
	брат(»м€Ѕрата,Y),
	внук(X,»м€Ѕрата).
внучатный_плем€нник(X,Y):-
	сестра(»м€—естры,Y),
	внук(X,»м€—естры).

внучатна€_плем€нница(X,Y):-
	брат(»м€Ѕрата,Y),
	внучка(X,»м€Ѕрата).
внучатна€_плем€нница(X,Y):-
	сестра(»м€—естры,Y),
	внучка(X,»м€—естры).

двоюродный_брат(X,Y):-
	отец(»м€ќтца,Y),
	брат(»м€Ѕратаќтца,»м€ќтца),
	сын(X,»м€Ѕратаќтца).
двоюродный_брат(X,Y):-
	отец(»м€ќтца,Y),
	сестра(»м€—естрыќтца,»м€ќтца),
	сын(X,»м€—естрыќтца).
двоюродный_брат(X,Y):-
	мать(»м€ћатери,Y),
	брат(»м€Ѕратаћатери,»м€ћатери),
	сын(X,»м€Ѕратаћатери).
двоюродный_брат(X,Y):-
	мать(»м€ћатери,Y),
	сестра(»м€—естрыћатери,»м€ћатери),
	сын(X,»м€—естрыћатери).

двоюродна€_сестра(X,Y):-
	отец(»м€ќтца,Y),
	брат(»м€Ѕратаќтца,»м€ќтца),
	дочь(X,»м€Ѕратаќтца).
двоюродна€_сестра(X,Y):-
	отец(»м€ќтца,Y),
	сестра(»м€—естрыќтца,»м€ќтца),
	дочь(X,»м€—естрыќтца).
двоюродна€_сестра(X,Y):-
	мать(»м€ћатери,Y),
	брат(»м€Ѕратаћатери,»м€ћатери),
	дочь(X,»м€Ѕратаћатери).
двоюродна€_сестра(X,Y):-
	мать(»м€ћатери,Y),
	сестра(»м€—естрыћатери,»м€ћатери),
	дочь(X,»м€—естрыћатери).

-- ¬ сравнительно недавнюю эпоху прибавились к этим исконно
-- русским терминам родства французские по происхождению
-- слова - кузен и кузина, обозначавшие двоюродных брата и
-- сестру, а также любых дальних кровных родственников
-- в одном колене. »спользуем упрощЄнное определение:

кузен(X,Y):-
	двоюродный_брат(X,Y).

кузина(X,Y):-
	двоюродна€_сестра(X,Y).

--  ум и кума - крЄстные родители по отношению к
-- родител€м крестника, самому крестнику и друг к другу.
-- »ногда кумами (иначе - крестовыми брать€ми и сестрами,
-- побратимами) называют себ€ люди, обмен€вшиес€
-- нательными крестами в знак дружеской любви.

кум(X,»м€ќтца):-
	отец(»м€ќтца,»м€ рестника),
	крЄстный_отец(X,»м€ рестника).
кум(X,»м€ћатери):-
	мать(»м€ћатери,»м€ рестника),
	крЄстный_отец(X,»м€ рестника).
кум(X,»м€ рестника):-
	крЄстный_отец(X,»м€ рестника).
кум(X,Y):-
	крЄстный_отец(X,»м€ рестника),
	крЄстна€_мать(Y,»м€ рестника).

кума(X,»м€ќтца):-
	отец(»м€ќтца,»м€ рестника),
	крЄстна€_мать(X,»м€ рестника).
кума(X,»м€ћатери):-
	мать(»м€ћатери,»м€ рестника),
	крЄстна€_мать(X,»м€ рестника).
кума(X,»м€ рестника):-
	крЄстна€_мать(X,»м€ рестника).
кума(X,Y):-
	крЄстна€_мать(X,»м€ рестника),
	крЄстный_отец(Y,»м€ рестника).

супруги(X,Y):-
	муж_и_жена(X,Y).
супруги(X,Y):-
	муж_и_жена(Y,X).

-- “есть и тЄща - это отец и мать жены.

тесть(X,Y):-
	муж_и_жена(Y,»м€∆ены),
	отец(X,»м€∆ены).

тЄща(X,Y):-
	муж_и_жена(Y,»м€∆ены),
	мать(X,»м€∆ены).

-- —вЄкор и свекровь - родители мужа.

свЄкор(X,Y):-
	муж_и_жена(»м€ћужа,Y),
	отец(X,»м€ћужа).

свекровь(X,Y):-
	муж_и_жена(»м€ћужа,Y),
	мать(X,»м€ћужа).

-- —ват и свать€ - родители одного из супругов по
-- отношению к родител€м другого супруга.

сват(X,Y):-
	супруги(A,B),
	отец(X,A),
	отец(Y,B).
сват(X,Y):-
	супруги(A,B),
	отец(X,A),
	мать(Y,B).

свать€(X,Y):-
	супруги(A,B),
	мать(X,A),
	отец(Y,B).
свать€(X,Y):-
	супруги(A,B),
	мать(X,A),
	мать(Y,B).

-- —во€к - муж жениной сестры, а сво€ченица - сестра жены.

сво€к(X,Y):-
	муж_и_жена(Y,»м€∆ены),
	сестра(»м€—естры,»м€∆ены),
	муж_и_жена(X,»м€—естры).

сво€ченица(»м€—естры,Y):-
	муж_и_жена(Y,»м€∆ены),
	сестра(»м€—естры,»м€∆ены).

-- Ќевестка - замужн€€ женщина по отношению ко всем
-- без исключени€ родственникам еЄ мужа (матери, отцу,
-- брать€м, сЄстрам, женам братьев и мужь€м сестЄр).
-- »спользуем упрощЄнное определение:

невестка(X,Y):-
	муж_и_жена(»м€ћужа,X),
	родственники_мужа(Y,»м€ћужа).

родственники_мужа(X,»м€ћужа):-
	отец(X,»м€ћужа).
родственники_мужа(X,»м€ћужа):-
	мать(X,»м€ћужа).
родственники_мужа(X,»м€ћужа):-
	брат(X,»м€ћужа).
родственники_мужа(X,»м€ћужа):-
	сестра(X,»м€ћужа).
родственники_мужа(X,»м€ћужа):-
	брат(»м€Ѕрата,»м€ћужа),
	муж_и_жена(»м€Ѕрата,X).
родственники_мужа(X,»м€ћужа):-
	сестра(»м€—естры,»м€ћужа),
	муж_и_жена(X,»м€—естры).

-- —ноха - жена сына по отношению к его отцу,
-- своему свЄкру.

сноха(X,Y):-
	муж_и_жена(»м€ћужа,X),
	отец(Y,»м€ћужа).

-- —ношеницами называли в некоторых говорах жену
-- девер€ или жЄн двух братьев по отношению друг к другу.

сношеница(X,Y):-
	деверь(»м€ƒевер€,Y),
	муж_и_жена(»м€ƒевер€,X).
сношеница(X,Y):-
	брат(»м€Ѕрата,Y),
	муж_и_жена(»м€Ѕрата,X).

-- «€ть - муж дочери; муж сестры; муж золовки.

з€ть(X,Y):-
	муж_и_жена(X,»м€∆ены),
	дочь(»м€∆ены,Y).
з€ть(X,Y):-
	муж_и_жена(X,»м€∆ены),
	сестра(»м€∆ены,Y).
з€ть(X,Y):-
	муж_и_жена(X,»м€∆ены),
	золовка(»м€∆ены,Y).

-- ƒеверь - брат мужа, а золовка - сестра мужа.

деверь(X,Y):-
	муж_и_жена(»м€ћужа,Y),
	брат(X,»м€ћужа).

золовка(X,Y):-
	муж_и_жена(»м€ћужа,Y),
	сестра(X,»м€ћужа).

-- Ўурин - брат жены.

шурин(X,Y):-
	муж_и_жена(Y,»м€∆ены),
	брат(X,»м€∆ены).

-- »мена в родительном падеже:

родительный_падеж("јлексей") = "јлексе€" :-!.
родительный_падеж("јлександр") = "јлександра" :-!.
родительный_падеж("јльберт") = "јльберта" :-!.
родительный_падеж("јнатолий") = "јнатоли€" :-!.
родительный_падеж("Ѕорис") = "Ѕориса" :-!.
родительный_падеж("¬ладимир") = "¬ладимира" :-!.
родительный_падеж("ћихаил") = "ћихаила" :-!.
родительный_падеж("“ихон") = "“ихона" :-!.
родительный_падеж("јнастаси€") = "јнастасии" :-!.
родительный_падеж("јнтонина") = "јнтонины" :-!.
родительный_падеж("√алина") = "√алины" :-!.
родительный_падеж("«о€") = "«ои" :-!.
родительный_падеж("»рина") = "»рины" :-!.
родительный_падеж(" ристина") = " ристины" :-!.
родительный_падеж("Ћюдмила") = "Ћюдмилы" :-!.
родительный_падеж("ћарус€") = "ћаруси" :-!.
родительный_падеж("Ќина") = "Ќины" :-!.
родительный_падеж("“амара") = "“амары" :-!.
родительный_падеж("“ать€на") = "“ать€ны" :-!.
родительный_падеж("ёл€") = "ёли" :-!.
родительный_падеж(»м€) = "" :-
	warning([
		"»звините, родительный падеж имени ",
		»м€,
		" не определЄн!"]),
	break.

-- ÷елевое утверждение:

goal:-
	отец(X,Y),
	writeln(X," отец ",?родительный_падеж(Y),"."),
	fail.
goal:-
	мать(X,Y),
	writeln(X," мать ",?родительный_падеж(Y),"."),
	fail.
goal:-
	крЄстный_отец(X,Y),
	writeln(X," крЄстный отец ",?родительный_падеж(Y),"."),
	fail.
goal:-
	крЄстна€_мать(X,Y),
	writeln(X," крЄстна€ мать ",?родительный_падеж(Y),"."),
	fail.
goal:-
	сын(X,Y),
	writeln(X," сын ",?родительный_падеж(Y),"."),
	fail.
goal:-
	дочь(X,Y),
	writeln(X," дочь ",?родительный_падеж(Y),"."),
	fail.
goal:-
	дедушка(X,Y),
	writeln(X," дедушка ",?родительный_падеж(Y),"."),
	fail.
goal:-
	бабушка(X,Y),
	writeln(X," бабушка ",?родительный_падеж(Y),"."),
	fail.
goal:-
	внук(X,Y),
	writeln(X," внук ",?родительный_падеж(Y),"."),
	fail.
goal:-
	внучка(X,Y),
	writeln(X," внучка ",?родительный_падеж(Y),"."),
	fail.
goal:-
	брат(X,Y),
	writeln(X," брат ",?родительный_падеж(Y),"."),
	fail.
goal:-
	сестра(X,Y),
	writeln(X," сестра ",?родительный_падеж(Y),"."),
	fail.
goal:-
	д€д€(X,Y),
	writeln(X," д€д€ ",?родительный_падеж(Y),"."),
	fail.
goal:-
	тЄт€(X,Y),
	writeln(X," тЄт€ ",?родительный_падеж(Y),"."),
	fail.
goal:-
	плем€нник(X,Y),
	writeln(X," плем€нник ",?родительный_падеж(Y),"."),
	fail.
goal:-
	плем€нница(X,Y),
	writeln(X," плем€нница ",?родительный_падеж(Y),"."),
	fail.
goal:-
	внучатный_плем€нник(X,Y),
	writeln(X," внучатный плем€нник ",
			?родительный_падеж(Y),"."),
	fail.
goal:-
	внучатна€_плем€нница(X,Y),
	writeln(X," внучатна€ плем€нница ",
			?родительный_падеж(Y),"."),
	fail.
goal:-
	двоюродный_брат(X,Y),
	writeln(X," двоюродный брат ",
			?родительный_падеж(Y),"."),
	fail.
goal:-
	двоюродна€_сестра(X,Y),
	writeln(X," двоюродна€ сестра ",
			?родительный_падеж(Y),"."),
	fail.
goal:-
	кузен(X,Y),
	writeln(X," кузен ",?родительный_падеж(Y),"."),
	fail.
goal:-
	кузина(X,Y),
	writeln(X," кузина ",?родительный_падеж(Y),"."),
	fail.
goal:-
	кум(X,Y),
	writeln(X," кум ",?родительный_падеж(Y),"."),
	fail.
goal:-
	кума(X,Y),
	writeln(X," кума ",?родительный_падеж(Y),"."),
	fail.
goal:-
	супруги(X,Y),
	writeln(X," и ",Y," супруги."),
	fail.
goal:-
	тесть(X,Y),
	writeln(X," тесть ",?родительный_падеж(Y),"."),
	fail.
goal:-
	тЄща(X,Y),
	writeln(X," тЄща ",?родительный_падеж(Y),"."),
	fail.
goal:-
	свЄкор(X,Y),
	writeln(X," свЄкор ",?родительный_падеж(Y),"."),
	fail.
goal:-
	свекровь(X,Y),
	writeln(X," свекровь ",?родительный_падеж(Y),"."),
	fail.
goal:-
	сват(X,Y),
	writeln(X," сват ",?родительный_падеж(Y),"."),
	fail.
goal:-
	свать€(X,Y),
	writeln(X," свать€ ",?родительный_падеж(Y),"."),
	fail.
goal:-
	сво€к(X,Y),
	writeln(X," сво€к ",?родительный_падеж(Y),"."),
	fail.
goal:-
	сво€ченица(X,Y),
	writeln(X," сво€ченица ",?родительный_падеж(Y),"."),
	fail.
goal:-
	невестка(X,Y),
	writeln(X," невестка ",?родительный_падеж(Y),"."),
	fail.
goal:-
	муж_и_жена(Y,_),
	родственники_мужа(X,Y),
	writeln(X," родственник(ца) ",
			?родительный_падеж(Y),"."),
	fail.
goal:-
	сноха(X,Y),
	writeln(X," сноха ",?родительный_падеж(Y),"."),
	fail.
goal:-
	сношеница(X,Y),
	writeln(X," сношеница ",?родительный_падеж(Y),"."),
	fail.
goal:-
	з€ть(X,Y),
	writeln(X," з€ть ",?родительный_падеж(Y),"."),
	fail.
goal:-
	деверь(X,Y),
	writeln(X," деверь ",?родительный_падеж(Y),"."),
	fail.
goal:-
	золовка(X,Y),
	writeln(X," золовка ",?родительный_падеж(Y),"."),
	fail.
goal:-
	шурин(X,Y),
	writeln(X," шурин ",?родительный_падеж(Y),"."),
	fail.
goal.
